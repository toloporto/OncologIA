{
  "_format": "hh-sol-artifact-1",
  "contractName": "OrthoConsent",
  "sourceName": "contracts/OrthoConsent.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum OrthoConsent.Purpose",
          "name": "purpose",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expirationTime",
          "type": "uint256"
        }
      ],
      "name": "ConsentGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "consentId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        }
      ],
      "name": "ConsentRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_tokenId",
          "type": "uint256"
        },
        {
          "internalType": "enum OrthoConsent.Purpose",
          "name": "_purpose",
          "type": "uint8"
        }
      ],
      "name": "checkConsent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "consents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "enum OrthoConsent.Purpose",
          "name": "purpose",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expirationTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "termsHash",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_consentId",
          "type": "bytes32"
        }
      ],
      "name": "getConsentDetails",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "tokenId",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "patient",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "recipient",
              "type": "address"
            },
            {
              "internalType": "enum OrthoConsent.Purpose",
              "name": "purpose",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "startTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expirationTime",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isValid",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "termsHash",
              "type": "string"
            }
          ],
          "internalType": "struct OrthoConsent.Consent",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patient",
          "type": "address"
        }
      ],
      "name": "getPatientConsents",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_tokenId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_recipient",
          "type": "address"
        },
        {
          "internalType": "enum OrthoConsent.Purpose",
          "name": "_purpose",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "_durationSeconds",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_termsHash",
          "type": "string"
        }
      ],
      "name": "grantConsent",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_consentId",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "_reason",
          "type": "string"
        }
      ],
      "name": "revokeConsent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userConsents",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461005b5760008054336001600160a01b0319821681178355916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3610f4090816100618239f35b600080fdfe60c0604081815260048036101561001557600080fd5b600092833560e01c90816318737dd314610923575080632492438514610876578063380b413f1461073b5780633e3ace6d146106e5578063715018a61461068b5780638da5cb5b14610663578063aebe61b71461024d578063b3d8ccbd146101a8578063c5acf90b146101565763f2fde38b1461009157600080fd5b34610152576020366003190112610152576100aa610ab8565b906100b3610ca3565b6001600160a01b0391821692831561010057505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b906020608492519162461bcd60e51b8352820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152fd5b8280fd5b5050346101a45760803660031901126101a457610171610ab8565b610179610ad3565b6064359360058510156101a15750926101989160209460443591610d07565b90519015158152f35b80fd5b5080fd5b5091346101a15760203660031901126101a1578161024991843581526001602052209182549260018060a01b03918260018301541695610227600284015460038501549285015493610204600660ff6005890154169701610bfd565b9681519a8b9a8b5260208b015282169089015260ff606089019160a01c16610a55565b608086015260a0850152151560c08401526101008060e0850152830190610a78565b0390f35b5090346101525760a036600319011261015257610268610ad3565b916005604435101561065f576064356084359367ffffffffffffffff9485811161065b576102999036908501610b3e565b6001600160a01b039290828416156106245733848416146105ea578791806105c4575b5085519060208201973360601b89526bffffffffffffffffffffffff198560601b1660348401528635604884015260443560f81b60688401524260698401526069835260a0830198838a10828b111761059b57898952835190209861032081610ae9565b87358152898b8a60c0870133815260e08801908b8b16825261010089019061034a60443583610cfb565b6101208a01934285526101408b01958c87526101608c019761018060019d8e8b52019b8c5281528b60205220965187558c8a88019151166bffffffffffffffffffffffff60a01b8254161790558b600287019251168254915160058110156105ae576001600160a81b03199092161760a09190911b60ff60a01b1617905551600384015551898301555160058201805491151560ff1660ff1992909216919091179055915180516006939093019291821161059b57819061040b8454610bc3565b601f8111610549575b50602090601f83116001146104e9578c926104de575b5050600019600383901b1c191690831b1790555b338852600260205285882090815498680100000000000000008a10156104cb57508801815560209761046f91610b95565b81549060031b9088821b91600019901b1916179055845193358452610498878501604435610a55565b848401521690837fca2b5991665366e635b787eed9ac9a20484c91f6b3764742d0fd80b11d1dd0ce60603393a451908152f35b634e487b7160e01b815260418752602490fd5b01519050388061042a565b848d5260208d208694509190601f1984168e5b81811061053157508411610518575b505050811b01905561043e565b015160001960f88460031b161c1916905538808061050b565b828401518555889690940193602093840193016104fc565b909150838c5260208c20601f840160051c81019160208510610591575b84939291601f88920160051c01915b828110610583575050610414565b8e8155859450879101610575565b9091508190610566565b634e487b7160e01b8b526041885260248bfd5b50505060248f60218e634e487b7160e01b835252fd5b90915042018042116105d75790386102bc565b634e487b7160e01b885260118552602488fd5b855162461bcd60e51b8152602081870152601460248201527321b0b73737ba1033b930b73a103a379039b2b63360611b6044820152606490fd5b855162461bcd60e51b81526020818701526011602482015270125b9d985b1a59081c9958da5c1a595b9d607a1b6044820152606490fd5b8680fd5b8380fd5b5050346101a457816003193601126101a457905490516001600160a01b039091168152602090f35b83346101a157806003193601126101a1576106a4610ca3565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b5050346101a457806003193601126101a4576106ff610ab8565b6001600160a01b031682526002602052808220805460243593908410156101a1575060209261072d91610b95565b91905490519160031b1c8152f35b5034610152578160031936011261015257803560243567ffffffffffffffff81116108725761076d9036908401610b3e565b818552600160208190528486209081015491936001600160a01b03928316330361083d57600582019081549060ff8216156107ef5750916002917fc73fa31cadbbb7e7e5bd491631159139530eb37d6f32565203f7854d35ce30fd949360ff19169055015416935160208152806107e933956020830190610a78565b0390a480f35b608490602089519162461bcd60e51b8352820152602260248201527f436f6e73656e7420616c7265616479207265766f6b6564206f7220696e76616c6044820152611a5960f21b6064820152fd5b606490602087519162461bcd60e51b8352820152600f60248201526e139bdd081d1a19481c185d1a595b9d608a1b6044820152fd5b8480fd5b8284346101a157602090816003193601126101a15782906001600160a01b0361089d610ab8565b16815260028352818120908251808584549182815201908194845286842090845b81811061090f57505050816108d4910382610b1c565b83519485948186019282875251809352850193925b8281106108f857505050500390f35b8351855286955093810193928101926001016108e9565b8254845292880192600192830192016108be565b828486346101a157602093846003193601126101a457918091606060e08561094d61024997610ae9565b8381528389820152838582015283838201528360808201528360a08201528360c0820152015284358152600186522092815193849161098b83610ae9565b81548352610a2e60018060a01b039485600185015416958986019687526002850154918087019082841682526109cb60ff60608a019560a01c1685610cfb565b82610a00600660038a01549860808c01998a528a01549960a08c019a8b5260c060ff6005830154169c019b15158c5201610bfd565b9960e08d019a8b5282518e819f9e829f8352519101525116908b015251166060890152516080880190610a55565b5160a08601525160c085015251151560e08401525161010080840152610120830190610a78565b906005821015610a625752565b634e487b7160e01b600052602160045260246000fd5b919082519283825260005b848110610aa4575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610a83565b600435906001600160a01b0382168203610ace57565b600080fd5b602435906001600160a01b0382168203610ace57565b610100810190811067ffffffffffffffff821117610b0657604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610b0657604052565b81601f82011215610ace5780359067ffffffffffffffff8211610b065760405192610b73601f8401601f191660200185610b1c565b82845260208383010111610ace57816000926020809301838601378301015290565b8054821015610bad5760005260206000200190600090565b634e487b7160e01b600052603260045260246000fd5b90600182811c92168015610bf3575b6020831014610bdd57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610bd2565b9060405191826000825492610c1184610bc3565b908184526001948581169081600014610c805750600114610c3d575b5050610c3b92500383610b1c565b565b9093915060005260209081600020936000915b818310610c68575050610c3b93508201013880610c2d565b85548884018501529485019487945091830191610c50565b915050610c3b94506020925060ff191682840152151560051b8201013880610c2d565b6000546001600160a01b03163303610cb757565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b6005821015610a625752565b939290919360018060a01b03608052600060a0526080511660a051526020600281526040918260a05120835180828582945493848152019060a051528560a051209260a0515b87828210610ef457505050610d6492500382610b1c565b60a0515b8151811015610ee75760058482821b8401015160a051526001908186528660a0512090875190610d9782610ae9565b8254825260805184840154168883015260028301549289830192608051851684528d606082019160ff93610dd18560a0998a1c1685610cfb565b60038101546080830152610e026006600496878401549a85019a8b5288840154169260c08501931515845201610bfd565b60e08301525115159586610ed4575b5085610ec9575b505083610e7d575b505050610e53575b50506000198114610e3b57600101610d68565b634e487b7160e01b60a051526011600452602460a051fd5b518015908115610e73575b50610e695780610e28565b9750505050505050565b9050421038610e5e565b5192509080831015610eb257871015610e9b57508514388080610e20565b602190634e487b7160e01b60a0515252602460a051fd5b602182634e487b7160e01b60a0515252602460a051fd5b511493508d38610e18565b60805190518f8216911614955038610e11565b505060a051955050505050565b8554845260019586019587955093019201610d4d56fea2646970667358221220e70709681997543483360ef37c70b02fd136e9f13c461e1f7a8e2d23a352801364736f6c63430008140033",
  "deployedBytecode": "0x60c0604081815260048036101561001557600080fd5b600092833560e01c90816318737dd314610923575080632492438514610876578063380b413f1461073b5780633e3ace6d146106e5578063715018a61461068b5780638da5cb5b14610663578063aebe61b71461024d578063b3d8ccbd146101a8578063c5acf90b146101565763f2fde38b1461009157600080fd5b34610152576020366003190112610152576100aa610ab8565b906100b3610ca3565b6001600160a01b0391821692831561010057505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b906020608492519162461bcd60e51b8352820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152fd5b8280fd5b5050346101a45760803660031901126101a457610171610ab8565b610179610ad3565b6064359360058510156101a15750926101989160209460443591610d07565b90519015158152f35b80fd5b5080fd5b5091346101a15760203660031901126101a1578161024991843581526001602052209182549260018060a01b03918260018301541695610227600284015460038501549285015493610204600660ff6005890154169701610bfd565b9681519a8b9a8b5260208b015282169089015260ff606089019160a01c16610a55565b608086015260a0850152151560c08401526101008060e0850152830190610a78565b0390f35b5090346101525760a036600319011261015257610268610ad3565b916005604435101561065f576064356084359367ffffffffffffffff9485811161065b576102999036908501610b3e565b6001600160a01b039290828416156106245733848416146105ea578791806105c4575b5085519060208201973360601b89526bffffffffffffffffffffffff198560601b1660348401528635604884015260443560f81b60688401524260698401526069835260a0830198838a10828b111761059b57898952835190209861032081610ae9565b87358152898b8a60c0870133815260e08801908b8b16825261010089019061034a60443583610cfb565b6101208a01934285526101408b01958c87526101608c019761018060019d8e8b52019b8c5281528b60205220965187558c8a88019151166bffffffffffffffffffffffff60a01b8254161790558b600287019251168254915160058110156105ae576001600160a81b03199092161760a09190911b60ff60a01b1617905551600384015551898301555160058201805491151560ff1660ff1992909216919091179055915180516006939093019291821161059b57819061040b8454610bc3565b601f8111610549575b50602090601f83116001146104e9578c926104de575b5050600019600383901b1c191690831b1790555b338852600260205285882090815498680100000000000000008a10156104cb57508801815560209761046f91610b95565b81549060031b9088821b91600019901b1916179055845193358452610498878501604435610a55565b848401521690837fca2b5991665366e635b787eed9ac9a20484c91f6b3764742d0fd80b11d1dd0ce60603393a451908152f35b634e487b7160e01b815260418752602490fd5b01519050388061042a565b848d5260208d208694509190601f1984168e5b81811061053157508411610518575b505050811b01905561043e565b015160001960f88460031b161c1916905538808061050b565b828401518555889690940193602093840193016104fc565b909150838c5260208c20601f840160051c81019160208510610591575b84939291601f88920160051c01915b828110610583575050610414565b8e8155859450879101610575565b9091508190610566565b634e487b7160e01b8b526041885260248bfd5b50505060248f60218e634e487b7160e01b835252fd5b90915042018042116105d75790386102bc565b634e487b7160e01b885260118552602488fd5b855162461bcd60e51b8152602081870152601460248201527321b0b73737ba1033b930b73a103a379039b2b63360611b6044820152606490fd5b855162461bcd60e51b81526020818701526011602482015270125b9d985b1a59081c9958da5c1a595b9d607a1b6044820152606490fd5b8680fd5b8380fd5b5050346101a457816003193601126101a457905490516001600160a01b039091168152602090f35b83346101a157806003193601126101a1576106a4610ca3565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b5050346101a457806003193601126101a4576106ff610ab8565b6001600160a01b031682526002602052808220805460243593908410156101a1575060209261072d91610b95565b91905490519160031b1c8152f35b5034610152578160031936011261015257803560243567ffffffffffffffff81116108725761076d9036908401610b3e565b818552600160208190528486209081015491936001600160a01b03928316330361083d57600582019081549060ff8216156107ef5750916002917fc73fa31cadbbb7e7e5bd491631159139530eb37d6f32565203f7854d35ce30fd949360ff19169055015416935160208152806107e933956020830190610a78565b0390a480f35b608490602089519162461bcd60e51b8352820152602260248201527f436f6e73656e7420616c7265616479207265766f6b6564206f7220696e76616c6044820152611a5960f21b6064820152fd5b606490602087519162461bcd60e51b8352820152600f60248201526e139bdd081d1a19481c185d1a595b9d608a1b6044820152fd5b8480fd5b8284346101a157602090816003193601126101a15782906001600160a01b0361089d610ab8565b16815260028352818120908251808584549182815201908194845286842090845b81811061090f57505050816108d4910382610b1c565b83519485948186019282875251809352850193925b8281106108f857505050500390f35b8351855286955093810193928101926001016108e9565b8254845292880192600192830192016108be565b828486346101a157602093846003193601126101a457918091606060e08561094d61024997610ae9565b8381528389820152838582015283838201528360808201528360a08201528360c0820152015284358152600186522092815193849161098b83610ae9565b81548352610a2e60018060a01b039485600185015416958986019687526002850154918087019082841682526109cb60ff60608a019560a01c1685610cfb565b82610a00600660038a01549860808c01998a528a01549960a08c019a8b5260c060ff6005830154169c019b15158c5201610bfd565b9960e08d019a8b5282518e819f9e829f8352519101525116908b015251166060890152516080880190610a55565b5160a08601525160c085015251151560e08401525161010080840152610120830190610a78565b906005821015610a625752565b634e487b7160e01b600052602160045260246000fd5b919082519283825260005b848110610aa4575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610a83565b600435906001600160a01b0382168203610ace57565b600080fd5b602435906001600160a01b0382168203610ace57565b610100810190811067ffffffffffffffff821117610b0657604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610b0657604052565b81601f82011215610ace5780359067ffffffffffffffff8211610b065760405192610b73601f8401601f191660200185610b1c565b82845260208383010111610ace57816000926020809301838601378301015290565b8054821015610bad5760005260206000200190600090565b634e487b7160e01b600052603260045260246000fd5b90600182811c92168015610bf3575b6020831014610bdd57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610bd2565b9060405191826000825492610c1184610bc3565b908184526001948581169081600014610c805750600114610c3d575b5050610c3b92500383610b1c565b565b9093915060005260209081600020936000915b818310610c68575050610c3b93508201013880610c2d565b85548884018501529485019487945091830191610c50565b915050610c3b94506020925060ff191682840152151560051b8201013880610c2d565b6000546001600160a01b03163303610cb757565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b6005821015610a625752565b939290919360018060a01b03608052600060a0526080511660a051526020600281526040918260a05120835180828582945493848152019060a051528560a051209260a0515b87828210610ef457505050610d6492500382610b1c565b60a0515b8151811015610ee75760058482821b8401015160a051526001908186528660a0512090875190610d9782610ae9565b8254825260805184840154168883015260028301549289830192608051851684528d606082019160ff93610dd18560a0998a1c1685610cfb565b60038101546080830152610e026006600496878401549a85019a8b5288840154169260c08501931515845201610bfd565b60e08301525115159586610ed4575b5085610ec9575b505083610e7d575b505050610e53575b50506000198114610e3b57600101610d68565b634e487b7160e01b60a051526011600452602460a051fd5b518015908115610e73575b50610e695780610e28565b9750505050505050565b9050421038610e5e565b5192509080831015610eb257871015610e9b57508514388080610e20565b602190634e487b7160e01b60a0515252602460a051fd5b602182634e487b7160e01b60a0515252602460a051fd5b511493508d38610e18565b60805190518f8216911614955038610e11565b505060a051955050505050565b8554845260019586019587955093019201610d4d56fea2646970667358221220e70709681997543483360ef37c70b02fd136e9f13c461e1f7a8e2d23a352801364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
